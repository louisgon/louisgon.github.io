// Abstracts
@use '../abstracts/all' as *;

// Plugins
@use 'sass:color';

// Page Wrapper
.page__wrapper {
	display: flex;
	flex-direction: column;
	min-height: 100%;
}

// Site Main
.site__main {
	flex: 1 1 auto;

	// Section
	:where(section) {
		display: block;
		overflow: hidden;
		padding-top: calc(4 * var(--doc-spacing) + var(--header-size));
		position: relative;
		width: 100%;
		z-index: 0;
	}
}

// Project
#{$project} {
	// Intro
	&__intro {
		display: flex;
		flex-direction: column;
		justify-content: center;
		min-height: calc(100vh - var(--header-size));
	}
}

// Block Accordion
.block__accordion {
	display: flex;

	// Item
	> * {
		flex: 1 1 auto;
	}

	// Nav
	> .accordion__nav {
		flex: 0 0 auto;
		margin-right: var(--doc-padding);
		width: 15rem;
	}
}

// Accordion
.accordion {
	// Nav
	&__nav {
		// Item
		&__item {
			border-left: 2px solid rgba($accent, 25%);
		}

		// Button
		&__button {
			@include transition('background-color', 'color');
			color: rgba($light, 50%);
			display: inline-flex;
			font-size: 1rem;
			font-weight: 400;
			padding: 0.75em 1.25em;
			position: relative;
			vertical-align: top;

			// Border
			&::before {
				background: $accent;
				height: 100%;
				position: absolute;
				right: 100%;
				top: 0;
				width: 2px;
			}

			// Active
			&.is-active {
				color: $fontcolor;

				// Border
				&::before {
					content: '';
					display: block;
				}
			}

			// Hover
			&:hover {
				background-color: rgba($accent, 10%);
				color: $light;
			}
		}
	}

	// Content
	&__content {
		display: none;

		// Active
		&.is-active {
			display: block;
		}
	}
}

// Work
.work {
	// Card
	&__card {
		background: $light;
		display: block;
		overflow: hidden;
		padding-bottom: 80%;
		position: relative;
		text-decoration: none;
		z-index: 0;

		// Overlay
		&__overlay {
			align-items: center;
			background: rgba($dark, 90%);
			display: flex;
			flex-direction: column;
			height: 100%;
			justify-content: center;
			left: 0;
			position: absolute;
			top: 0;
			width: 100%;

			// Button
			.button {
				height: auto;
				width: auto;
			}
		}

		@include unify-parent(a) {
			img {
				@include transition('transform');
				backface-visibility: hidden;
				transform: scale3d(1, 1, 1);
			}

			// Overlay
			.work__card__overlay {
				@include transition('opacity', 'visbility');
				opacity: 0;
				visibility: hidden;
			}

			// Hover
			&:hover {
				img {
					transform: scale3d(1.05, 1.05, 1.05);
				}

				// Overlay
				.work__card__overlay {
					opacity: 1;
					visibility: visible;
				}
			}
		}
	}
}
